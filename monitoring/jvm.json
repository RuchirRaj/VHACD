[
  {
    "title": "JVM",
    "type": "row",
    "collapsed": false,
    "gridPos": {
      "h": 8,
      "w": 24
    },
    "panels": []
  },
  {
    "aliasColors": {
      "max(heap used)": "#bf1b00"
    },
    "bars": false,
    "dashLength": 10,
    "dashes": false,
    "fill": 1,
    "gridPos": {
      "h": 8,
      "w": 8,
      "x": 0,
      "y": 1
    },
    "datasource": "$ds",
    "id": 4,
    "legend": {
      "avg": false,
      "current": false,
      "max": false,
      "min": false,
      "show": true,
      "total": false,
      "values": false
    },
    "lines": true,
    "linewidth": 1,
    "links": [],
    "nullPointMode": "null",
    "options": {},
    "percentage": false,
    "pointradius": 5,
    "points": false,
    "renderer": "flot",
    "seriesOverrides": [],
    "spaceLength": 10,
    "stack": false,
    "steppedLine": false,
    "targets": [
      {
        "expr": "avg(jvm_memory_used_bytes{app=\"$service\",area=\"heap\"})",
        "format": "time_series",
        "intervalFactor": 2,
        "legendFormat": "avg(heap used)",
        "refId": "A"
      },
      {
        "expr": "max(jvm_memory_committed_bytes{app=\"$service\",area=\"heap\"})",
        "format": "time_series",
        "intervalFactor": 2,
        "legendFormat": "max(heap committed)",
        "refId": "B"
      }
    ],
    "thresholds": [],
    "timeFrom": null,
    "timeRegions": [],
    "timeShift": null,
    "title": "Memory usage",
    "tooltip": {
      "shared": true,
      "sort": 0,
      "value_type": "individual"
    },
    "type": "graph",
    "xaxis": {
      "buckets": null,
      "mode": "time",
      "name": null,
      "show": true,
      "values": []
    },
    "yaxes": [
      {
        "format": "decbytes",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      }
    ],
    "yaxis": {
      "align": false,
      "alignLevel": null
    }
  },
  {
    "aliasColors": {},
    "bars": false,
    "dashLength": 10,
    "dashes": false,
    "fill": 1,
    "gridPos": {
      "h": 8,
      "w": 8,
      "x": 8,
      "y": 1
    },
    "datasource": "$ds",
    "id": 5,
    "legend": {
      "show": true,
      "values": false,
      "min": false,
      "max": false,
      "current": false,
      "total": false,
      "avg": false,
      "alignAsTable": true,
      "rightSide": false,
      "hideEmpty": true,
      "hideZero": true
    },
    "lines": true,
    "linewidth": 1,
    "links": [],
    "nullPointMode": "null",
    "options": {},
    "percentage": false,
    "pointradius": 2,
    "points": false,
    "renderer": "flot",
    "seriesOverrides": [],
    "spaceLength": 10,
    "stack": false,
    "steppedLine": false,
    "targets": [
      {
        "expr": "sum(system_cpu_usage{app=\"$service\"}) by (kubernetes_pod_name)",
        "format": "time_series",
        "intervalFactor": 1,
        "legendFormat": "committed {{kubernetes_pod_name}}",
        "refId": "A"
      }
    ],
    "thresholds": [],
    "timeFrom": null,
    "timeRegions": [],
    "timeShift": null,
    "title": "CPU usage",
    "tooltip": {
      "shared": true,
      "sort": 0,
      "value_type": "individual"
    },
    "type": "graph",
    "xaxis": {
      "buckets": null,
      "mode": "time",
      "name": null,
      "show": true,
      "values": []
    },
    "yaxes": [
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": true
      },
      {
        "format": "short",
        "label": null,
        "logBase": 1,
        "max": null,
        "min": null,
        "show": false
      }
    ],
    "yaxis": {
      "align": false,
      "alignLevel": null
    }
  }
]
